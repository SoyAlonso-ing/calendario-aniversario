<!DOCTYPE html>
<html lang="es">
<head>
    <!-- METADATOS Y CONFIGURACI√ìN -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <title> Nuestro Primer A√±o Juntos üíò</title>
    
    <!-- ICONO -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üíò</text></svg>">
    
    <!-- FUENTES DE GOOGLE -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- ICONOS FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- HOJA DE ESTILOS PRINCIPAL -->
    <link rel="stylesheet" href="style.css">
    
    <!-- ESTILOS INLINE PARA CARGAR INMEDIATO -->
    <style>
        /* Estilos cr√≠ticos para carga inicial */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ffafbd 0%, #ffc3a0 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }
        
        .cargando {
            text-align: center;
            padding: 50px 20px;
            font-size: 1.2rem;
            color: #e91e63;
        }
    </style>
</head>

<body>
    <!-- CONTENEDOR PRINCIPAL -->
    <div class="container">
        <!-- CABECERA CON CONTROLES -->
        <header class="cabecera-principal">
            <div class="controles-superiores">
                <button id="btnMusica" class="btn-control" title="Reproducir m√∫sica">
                    <i class="fas fa-music"></i>
                </button>
                <button id="btnModoNocturno" class="btn-control" title="Modo nocturno">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="contador-dias">
                    <span id="dias-juntos">365</span> d√≠as juntos
                </div>
            </div>
            
            <div class="titulo-principal">
                <h1>üíò Nuestro Primer A√±o Juntos</h1>
                <p class="subtitulo"> 365 d√≠as de recuerdos, risas y amor infinito</p>
            </div>
            
     <!-- BUSCADOR DE FECHAS -->
<div class="buscador-fechas">
    <div class="contenedor-buscador-elegante">
        <div class="input-wrapper">
            <i class="fas fa-calendar-alt input-icon"></i>
            <input type="date" id="buscarFecha" class="input-fecha-elegante" 
                   min="2025-04-05" max="2026-04-05"
                   title="Selecciona una fecha entre 5/4/2025 y 5/4/2026"
                   placeholder="Selecciona una fecha">
            <label for="buscarFecha" class="input-label">Selecciona una fecha</label>
        </div>
        
        <button id="btnBuscar" class="btn-buscar-elegante" title="Buscar fecha">
            <i class="fas fa-search"></i>
        </button>
    </div>
    
    <p class="hint-busqueda-mejorado">
        <i class="fas fa-heart"></i>
        Nuestro primer a√±o: 5 Abril 2025 - 5 Abril 2026
    </p>
</div>
        <!-- CALENDARIO PRINCIPAL (ahora primero) -->
<main class="calendario-contenedor">
    <div class="calendar" id="calendar">
        <div class="cargando" id="cargando-calendario">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Cargando nuestros 365 d√≠as de amor...</p>
        </div>
    </div>
</main>

<!-- ESTAD√çSTICAS (ahora despu√©s del calendario) -->
<section class="estadisticas">
    <div class="estadistica-item">
        <i class="fas fa-calendar-check"></i>
        <span id="contador-momentos">0/365</span>
        <p>Momentos descubiertos</p>
    </div>
    <div class="estadistica-item">
        <i class="fas fa-heart-circle-check"></i>
        <span id="contador-razones">100+</span>
        <p>Razones para amarte</p>
    </div>
    <div class="estadistica-item">
        <i class="fas fa-images"></i>
        <span id="contador-fotos">0</span>
        <p>Fotos especiales</p>
    </div>
</section>

        <!-- GALER√çA DE MOMENTOS DESTACADOS -->
        <section class="galeria-destacados" id="galeriaDestacados">
            <h2><i class="fas fa-star"></i> Nuestros Mejores Momentos</h2>
            <div class="carrusel-momentos" id="carruselMomentos">
                <!-- Se llena din√°micamente -->
            </div>
            <div class="controles-carrusel">
                <button id="btnAnterior" class="btn-carrusel">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button id="btnSiguiente" class="btn-carrusel">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </section>

        <!-- VISOR DE CONTENIDO (MODAL) -->
        <div class="viewer" id="viewer">
            <div class="viewer-contenido">
                <button class="btn-cerrar" id="btnCerrarViewer">
                    <i class="fas fa-times"></i>
                </button>
                <button class="btn-compartir" id="btnCompartir">
                    <i class="fas fa-share-alt"></i>
                </button>
                
                <div class="visor-contenido" id="visorContenido">
                    <!-- Contenido din√°mico se carga aqu√≠ -->
                </div>
                
                <div class="visor-navegacion">
                    <button class="btn-navegacion" id="btnDiaAnterior">
                        <i class="fas fa-chevron-left"></i> D√≠a anterior
                    </button>
                    <button class="btn-navegacion" id="btnDiaSiguiente">
                        D√≠a siguiente <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>

       <!-- REPRODUCTOR DE M√öSICA COMPACTO -->
<div id="reproductorMusica" style="display: none; position: fixed; bottom: 20px; right: 20px; z-index: 9998;">
    <div style="background: rgba(255, 255, 255, 0.98); border-radius: 12px; padding: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.15); width: 220px; border: 1px solid rgba(233, 30, 99, 0.2);">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
            <strong style="color: #e91e63; font-size: 0.9rem;">
                <i class="fas fa-music" style="margin-right: 5px;"></i> M√∫sica
            </strong>
            <button id="btnCerrarReproductor" style="background: none; border: none; color: #999; cursor: pointer; font-size: 0.9rem; padding: 2px 6px;">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <!-- Barra de progreso M√ÅS DELGADA -->
        <div style="margin-bottom: 10px;">
            <div id="barraProgreso" style="height: 3px; background: #e0e0e0; border-radius: 2px; overflow: hidden; cursor: pointer;">
                <div id="progresoActual" style="height: 100%; background: linear-gradient(90deg, #e91e63, #ff4081); width: 0%; transition: width 0.1s;"></div>
            </div>
            <div style="display: flex; justify-content: space-between; font-size: 11px; color: #888; margin-top: 4px;">
                <span id="tiempoActual">0:00</span>
                <span id="duracionTotal">0:00</span>
            </div>
        </div>
        
        <!-- Controles COMPACTOS -->
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <button id="btnAnterior" style="background: #f8f9fa; border: 1px solid #e0e0e0; color: #e91e63; cursor: pointer; font-size: 0.9rem; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all 0.2s;">
                <i class="fas fa-step-backward"></i>
            </button>
            
            <button id="btnPlayPause" style="background: linear-gradient(135deg, #e91e63, #ff4081); color: white; border: none; width: 38px; height: 38px; border-radius: 50%; cursor: pointer; font-size: 1rem; display: flex; align-items: center; justify-content: center; box-shadow: 0 3px 8px rgba(233, 30, 99, 0.3); transition: all 0.2s;">
                <i class="fas fa-play"></i>
            </button>
            
            <button id="btnSiguiente" style="background: #f8f9fa; border: 1px solid #e0e0e0; color: #e91e63; cursor: pointer; font-size: 0.9rem; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all 0.2s;">
                <i class="fas fa-step-forward"></i>
            </button>
        </div>
        
        <!-- VOLUMEN ELIMINADO -->
    </div>
</div>

<audio id="musicaFondo">
    <source src="audio/teAmo.mp3" type="audio/mpeg">
    Tu navegador no soporta audio HTML5.
</audio>

        <!-- PIE DE P√ÅGINA -->
        <footer class="pie-pagina">
            <div class="mensaje-especial">
                <p><i class="fas fa-heart"></i> Hecho con todo mi amor para ti</p>
                <p class="fecha-creacion">Creado para celebrar nuestro primer a√±o juntos</p>
            </div>
            
            <div class="creditos">
                <p>Eres mi raz√≥n, mi inspiraci√≥n y mi felicidad completa</p>
                <p class="secreto">üíù Pista: Intenta el c√≥digo Konami (‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA)</p>
            </div>
            
            <div class="controles-finales">
                <button id="btnRazonAleatoria" class="btn-razon">
                    <i class="fas fa-random"></i> Raz√≥n de amor aleatoria
                </button>
                <button id="btnReiniciar" class="btn-reiniciar">
                    <i class="fas fa-redo"></i> Reiniciar visitas
                </button>
            </div>
        </footer>
    </div>

       <!-- SCRIPTS -->
    <script src="datos.js"></script>
    <script src="calendario-fix.js"></script>
    <script src="reproductor.js"></script>
    <!-- <script src="script.js"></script> --> <!-- COMENTA ESTA L√çNEA -->
    
    <!-- SCRIPT DE INICIALIZACI√ìN -->
    <script>
        // Evitar cache agresivo
        if (window.location.search.indexOf('v=') === -1) {
            window.location.search = '?v=' + Date.now();
        }
        
        // Mensaje de bienvenida en consola
        console.log('%cüíñ CALENDARIO DE AMOR üíñ', 'color: #e91e63; font-size: 16px; font-weight: bold;');
        console.log('%cCreado con amor para celebrar nuestro primer a√±o juntos', 'color: #666;');
    </script>
</body>
</html>